import{r as s,t as _,y as S,o as N,Y as q,z as l,a,B as y}from"./index.02f7c95d.js";import k from"./TreeDataList.26c5b605.js";import{u as A,c as B}from"./counselTypeStore.5faa86f9.js";import{h as D}from"./errorHandler.5efe1eb1.js";import b from"./AInput.398f059b.js";import g from"./ACheckbox.923db872.js";import w from"./ABtn.e24d7e8a.js";import M from"./ATitleBar.bbf1d9a4.js";import U from"./ScriptBoard.936113fa.js";import{_ as I}from"./_plugin-vue_export-helper.cdc0426e.js";import"./QTree.ce7bbb93.js";import"./QSlideTransition.b1b1fe3f.js";import"./QTooltip.86ca1c0e.js";import"./position-engine.53490cc8.js";import"./axios.816e1a60.js";import"./header.10137493.js";import"./dialog.88ce899f.js";import"./CommonPopup.2b0ee10b.js";import"./use-dialog-plugin-component.234e0905.js";import"./authStore.fadf8446.js";import"./counsel-hub.145170b4.js";/* empty css                                                             */import"./ClosePopup.daa62b28.js";import"./QBadge.c1f4e948.js";/* empty css                                                                  */import"./utils.32a0767f.js";import"./scriptApi.ab757ee5.js";import"./ATextEditor.d38287bf.js";import"./permissionStore.29c18612.js";import"./permissionApi.ffe0b82d.js";import"./FlowRoleCode.12cdb02e.js";import"./ALoadingSpinner.ca275fb8.js";const K={class:"a-border q-pa-xs fit column",style:{"min-height":"680px"}},E={class:"col-auto full-width q-mb-xs"},J={class:"full-width a-table"},O={class:"row"},R={class:"row"},$={class:"row"},j={class:"row justify-between"},z={class:"col-auto"},F={class:"col column no-wrap full-width a-border q-pa-xs"},G={class:"row col"},L={class:"a-border full-height col-2 q-pa-xs"},W={class:"q-ml-xs col full-height column no-wrap"},Y={__name:"ScriptManage",setup(H){const d=A(),f=s([]),p=s(),u=s(!1),i=s(!1),n=s(null),r=s(null),c=s();_(()=>n.value,o=>{o?u.value=!0:u.value=!1}),_(()=>r.value,o=>{o?i.value=!0:i.value=!1}),S(()=>{V()});function V(){B.getCounselType().then(o=>{const e=v(o.data);f.value=x(e)}).catch(o=>{D(o)})}function v(o){return o.map(e=>{var t;return(t=e.children)!=null&&t.length&&(e.children=v(e.children)),e}).sort((e,t)=>e.orderNumber-t.orderNumber)}function x(o){const t=[{entityId:"",name:"\uC804\uCCB4",code:"",path:null,orderNumber:0,children:JSON.parse(JSON.stringify(o))}];return h(t),t}function h(o){return o.map(e=>(e.children&&!e.children.length&&delete e.children,e.children&&(e.children=h(e.children)),e))}function m(){const o={};u.value&&n.value&&(o.name=n.value),i.value&&r.value&&(o.code=r.value),p.value=o}function T(){n.value=null,r.value=null,p.value=null}function C(o){if(o){let e=o.split(".");e.length===1?c.value=d.counselTypes.get(e[0]):e.length===2?c.value=d.counselTypes.get(e[1]):e.length===3&&(c.value=d.counselTypes.get(e[2]))}else c.value=null}return(o,e)=>(N(),q("div",K,[l("div",E,[l("table",J,[e[4]||(e[4]=l("colgroup",null,[l("col",{class:"t-column",width:"120px"}),l("col"),l("col",{class:"t-column",width:"100px"}),l("col")],-1)),l("tbody",null,[l("tr",null,[l("td",null,[l("div",O,[a(g,{modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=t=>u.value=t),label:"\uC0C1\uB2F4\uC720\uD615\uBA85"},null,8,["modelValue"])])]),l("td",null,[l("div",R,[a(b,{modelValue:n.value,"onUpdate:modelValue":e[1]||(e[1]=t=>n.value=t),onKeyup:y(m,["enter"])},null,8,["modelValue"])])]),l("td",null,[l("div",$,[a(g,{modelValue:i.value,"onUpdate:modelValue":e[2]||(e[2]=t=>i.value=t),label:"\uCF54\uB4DC"},null,8,["modelValue"])])]),l("td",null,[l("div",j,[l("div",null,[a(b,{modelValue:r.value,"onUpdate:modelValue":e[3]||(e[3]=t=>r.value=t),onKeyup:y(m,["enter"])},null,8,["modelValue"])]),l("div",z,[a(w,{label:"\uC870\uD68C",onClick:m}),a(w,{label:"\uCD08\uAE30\uD654",class:"q-ml-xs",onClick:T})])])])])])])]),l("div",F,[l("div",G,[l("div",L,[a(k,{data:f.value,onRowClick:C,ref:"treeGrid",filter:p.value},null,8,["data","filter"])]),l("div",W,[a(M,{title:"\uC0C1\uB2F4\uC720\uD615\uBCC4 \uC2A4\uD06C\uB9BD\uD2B8",class:"col-auto full-width q-mb-xs"}),a(U,{"counsel-type":c.value,class:"col"},null,8,["counsel-type"])])])])]))}},qe=I(Y,[["__scopeId","data-v-1506b6b6"]]);export{qe as default};
