import E from"./ATitleBar.bbf1d9a4.js";import v from"./ABtn.e24d7e8a.js";import S from"./UserShorCutOptions.9db74b59.js";import{u as P,c as b}from"./commandStore.9ed00edb.js";import{F as r}from"./FlowSystemCode.7be7ce49.js";import{u as x}from"./authStore.fadf8446.js";import{h as p}from"./errorHandler.5efe1eb1.js";import{s as f}from"./dialog.88ce899f.js";import{_ as I}from"./_plugin-vue_export-helper.cdc0426e.js";import{r as _,y as w,o as m,Y as h,a as C,z as l,ab as U,az as g,c as A}from"./index.02f7c95d.js";import"./ClosePopup.daa62b28.js";/* empty css                                                             */import"./ASelect.a02a29e0.js";import"./QItem.1bce08e7.js";import"./QSelect.b17c746f.js";import"./QMenu.3c9cf304.js";import"./position-engine.53490cc8.js";import"./rtl.276c3f1b.js";import"./format.2cae61da.js";import"./ATextarea.94103f28.js";/* empty css                                                                  */import"./counselTypeStore.5faa86f9.js";import"./axios.816e1a60.js";import"./header.10137493.js";import"./counsel-hub.145170b4.js";import"./CommonPopup.2b0ee10b.js";import"./use-dialog-plugin-component.234e0905.js";const Y={class:"column no-wrap"},N={class:"column col full-width b-border q-pa-xs"},M={class:"col-auto text-right q-pt-xs"},V={__name:"UserShortCut",setup($){const c=P(),T=x(),a=_(Array(10).fill({counselTypePath:null,contents:null})),i=_([]);function u(){for(let e=0;e<10;e++){const n=e<9?`${e+1}`:"0",t=`${r.SHORT_CUT_KEY_TYPE.SPECIFIC}-${r.SHORT_CUT_SPECIFIC.CTRL}-${r.SHORT_CUT_KEY_TYPE.DIGIT}-${n}`,s=c.commandMap.get(t);s&&s.length>0&&(a.value[e]={counselTypePath:null,contents:null,counselTypeCommandEid:null,textCommandEid:null},s.forEach(o=>{o.commandType===r.COMMAND_TYPE.COUNSEL_TYPE?(a.value[e].counselTypePath=o.command,a.value[e].counselTypeCommandEid=o.entityId):o.commandType===r.COMMAND_TYPE.TEXT&&(a.value[e].contents=o.command,a.value[e].textCommandEid=o.entityId)}))}i.value=JSON.parse(JSON.stringify(a.value))}w(()=>{u()});function d(e,n,t){const s={};return s["entity.command"]=t,b.updateCommand(e,n,s)}function y(){const e=T.entityId,n=[];a.value.forEach((t,s)=>{const o=i.value[s];t.counselTypePath!==o.counselTypePath&&t.counselTypeCommandEid&&n.push(d(e,t.counselTypeCommandEid,t.counselTypePath)),t.contents!==o.contents&&t.textCommandEid&&n.push(d(e,t.textCommandEid,t.contents))}),Promise.allSettled(n).then(t=>{const s=t.some(o=>o.status==="rejected");t.forEach(o=>{o.status==="rejected"&&p(o.reason)}),s?f("\uC77C\uBD80 \uC5C5\uB370\uC774\uD2B8 \uC694\uCCAD\uC774 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4."):f("\uC800\uC7A5\uC774 \uC644\uB8CC\uB418\uC5C8\uC2B5\uB2C8\uB2E4."),c.loadCommand().then(()=>{u()}).catch(o=>{p(o)})})}return(e,n)=>(m(),h("div",Y,[C(E,{title:"\uC0C1\uB2F4\uC720\uD615 \uD15C\uD50C\uB9BF",class:"full-width col-auto"}),l("div",N,[n[0]||(n[0]=l("div",{class:"col-auto row full-width fixed-height"},[l("div",{class:"top-border-left col-2 t-column flex-center row"},[l("span",null,"\uB2E8\uCD95\uD0A4")]),l("div",{class:"top-border-left col-4 t-column flex-center row"},[l("span",null,"\uC0C1\uB2F4\uC720\uD615")]),l("div",{class:"top-border-right col-6 t-column flex-center row"},[l("span",null,"\uC0C1\uB2F4\uB0B4\uC6A9")])],-1)),(m(!0),h(U,null,g(a.value,(t,s)=>(m(),A(S,{key:s,class:"col",number:s+1,modelValue:a.value[s],"onUpdate:modelValue":o=>a.value[s]=o},null,8,["number","modelValue","onUpdate:modelValue"]))),128)),l("div",M,[C(v,{label:"\uC800\uC7A5",onClick:y})])])]))}},co=I(V,[["__scopeId","data-v-70b0e74c"]]);export{co as default};
