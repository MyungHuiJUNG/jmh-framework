import{r as a,g as U,t as r,o as P,Y as K,z as o,a as s,B as R,b0 as Y}from"./index.02f7c95d.js";import w from"./AInput.398f059b.js";import h from"./ACheckbox.923db872.js";import D from"./ABtn.e24d7e8a.js";import T from"./ASelect.a02a29e0.js";import L from"./UserPopup.4dc2e487.js";import{u as z}from"./use-quasar.2d4ce40a.js";import{u as Q}from"./codeStore.e69f9e04.js";import{F as G}from"./FlowSystemCode.7be7ce49.js";import{u as H}from"./representativeServiceStore.1d850f8a.js";import{_ as J}from"./_plugin-vue_export-helper.cdc0426e.js";/* empty css                                                             */import"./QItem.1bce08e7.js";import"./QSelect.b17c746f.js";import"./QMenu.3c9cf304.js";import"./position-engine.53490cc8.js";import"./rtl.276c3f1b.js";import"./format.2cae61da.js";import"./TabulatorGrid.9c80b09d.js";import"./ATitleBar.bbf1d9a4.js";import"./ClosePopup.daa62b28.js";import"./use-dialog-plugin-component.234e0905.js";import"./organizationStore.a86bd6ff.js";import"./axios.816e1a60.js";import"./header.10137493.js";import"./errorHandler.5efe1eb1.js";import"./dialog.88ce899f.js";import"./CommonPopup.2b0ee10b.js";import"./authStore.fadf8446.js";import"./counsel-hub.145170b4.js";import"./userApi.abe7b8c8.js";import"./ALoadingSpinner.ca275fb8.js";const W={class:"column"},X={class:"col-auto row fixed-height"},Z={class:"col-auto t-column text-left top-border-left justify-center column q-px-xs"},ee={class:"col top-border-left justify-center column q-px-xs width-20"},te={class:"row full-width no-wrap"},le={class:"col-auto t-column text-left top-border-left justify-center column q-px-xs"},oe={class:"col top-border-left justify-center column q-px-xs width-25"},ae={class:"col-auto t-column text-left top-border-left justify-center column q-px-xs"},se={class:"col top-border-left justify-center column q-px-xs width-25"},ue={class:"row no-wrap"},ne={class:"col-auto t-column text-left top-border-left justify-center column q-px-xs"},re={class:"col top-border-right justify-center column q-px-xs width-25"},ie={class:"col-auto row fixed-height"},de={class:"col-auto t-column text-left body-border-left justify-center column q-px-xs"},ce={class:"col body-border-left justify-center column q-px-xs width-20"},me={class:"col body-border-right justify-center column q-px-xs width-25"},pe={class:"text-right full-width"},ve={__name:"CallbackSearchBar",emits:["search"],setup(fe,{emit:N}){const E=N,k=z(),A=Q(),B=H(),F=G.CODES.TICKET_PROCESS_STATUS,x=j(new Date(new Date().setMonth(new Date().getMonth()-1))),b=j(new Date),u=a(x),n=a(b),i=a(),_=a(null),d=a(null),y=a(),S=a(),V=a(!0),c=a(!1),m=a(!1),p=a(!1),v=a(!1),O=a(U(()=>[{name:"\uC804\uCCB4",value:null},...A.codes.get(F).children])),M=a(U(()=>[{representNumberName:"\uC804\uCCB4",representNumber:null},...B.services]));r(u,t=>{t||(u.value=x)}),r(n,t=>{t||(n.value=b)}),r(V,t=>{t||(u.value=x,n.value=b)}),r(i,t=>{t?c.value=!0:c.value=!1}),r(_,t=>{t?m.value=!0:m.value=!1}),r(d,t=>{t?p.value=!0:p.value=!1}),r(y,t=>{t?v.value=!0:v.value=!1});function C(t){const e=new Date(t);e.setDate(e.getDate()+1);const l=e.getFullYear(),f=String(e.getMonth()+1).padStart(2,"0"),g=String(e.getDate()).padStart(2,"0");return`${l}-${f}-${g}`}function q(){const t={};V.value?(t.fromCreatedDate=u.value+" 00:00:00",t.toCreatedDate=C(n.value)+" 00:00:00"):(t.fromCreatedDate=x+" 00:00:00",t.toCreatedDate=C(b)+" 00:00:00"),c.value&&i.value.trim()&&(t["entity.receptionNumber"]=i.value.trim()),m.value&&(t.ticketStatusCode=_.value.code),p.value&&d.value&&(t["entity.representNumber"]=d.value),v.value&&y.value&&(t.managerEntityId=y.value),E("search",t)}function $(){u.value=x,n.value=b,i.value=null,_.value=null,d.value=null,y.value=null,S.value=null,V.value=!0,c.value=!1,m.value=!1,p.value=!1,v.value=!1}function I(){k.dialog({component:L,componentProps:{enableRowDblClick:!0}}).onOk(t=>{S.value=`${t.payload[0].name} [${t.payload[0].id}]`,y.value=t.payload[0].entityId})}function j(t){const e=new Date(t);let l=""+(e.getMonth()+1),f=""+e.getDate();const g=e.getFullYear();return l.length<2&&(l="0"+l),f.length<2&&(f="0"+f),[g,l,f].join("-")}return(t,e)=>(P(),K("div",W,[o("div",X,[o("div",Z,[s(h,{modelValue:V.value,"onUpdate:modelValue":e[0]||(e[0]=l=>V.value=l),label:"\uC77C\uC790"},null,8,["modelValue"])]),o("div",ee,[o("div",te,[s(w,{class:"text-no-wrap col",type:"date",modelValue:u.value,"onUpdate:modelValue":e[1]||(e[1]=l=>u.value=l),max:n.value},null,8,["modelValue","max"]),s(w,{class:"text-no-wrap col",type:"date",modelValue:n.value,"onUpdate:modelValue":e[2]||(e[2]=l=>n.value=l),min:u.value},null,8,["modelValue","min"])])]),o("div",le,[s(h,{modelValue:c.value,"onUpdate:modelValue":e[3]||(e[3]=l=>c.value=l),label:"\uC218\uC2E0\uBC88\uD638"},null,8,["modelValue"])]),o("div",oe,[s(w,{modelValue:i.value,"onUpdate:modelValue":e[4]||(e[4]=l=>i.value=l),onKeyup:R(q,["enter"])},null,8,["modelValue"])]),o("div",ae,[s(h,{modelValue:v.value,"onUpdate:modelValue":e[5]||(e[5]=l=>v.value=l),label:"\uB2F4\uB2F9\uC790"},null,8,["modelValue"])]),o("div",se,[o("div",ue,[s(w,{modelValue:S.value,"onUpdate:modelValue":e[6]||(e[6]=l=>S.value=l),readonly:!0},null,8,["modelValue"]),s(D,{icon:"search",class:"q-ml-xs",onClick:I})])]),o("div",ne,[s(h,{modelValue:m.value,"onUpdate:modelValue":e[7]||(e[7]=l=>m.value=l),label:"\uCC98\uB9AC\uC0C1\uD0DC"},null,8,["modelValue"])]),o("div",re,[s(T,{options:O.value,modelValue:_.value,"onUpdate:modelValue":e[8]||(e[8]=l=>_.value=l),"option-label":"name"},null,8,["options","modelValue"])])]),o("div",ie,[o("div",de,[s(h,{modelValue:p.value,"onUpdate:modelValue":e[9]||(e[9]=l=>p.value=l),label:"\uB300\uD45C\uC11C\uBE44\uC2A4"},null,8,["modelValue"])]),o("div",ce,[s(T,{options:M.value,modelValue:d.value,"onUpdate:modelValue":e[10]||(e[10]=l=>d.value=l),"option-label":"representNumberName","option-value":"representNumber"},null,8,["options","modelValue"])]),e[11]||(e[11]=Y('<div class="col-auto t-column text-left body-border-left justify-center column q-px-xs" data-v-20a6cc69></div><div class="col body-border-left justify-center column q-px-xs width-25" data-v-20a6cc69></div><div class="col-auto t-column text-left body-border-left justify-center column q-px-xs" data-v-20a6cc69></div><div class="col body-border-left justify-center column q-px-xs width-25" data-v-20a6cc69></div><div class="col-auto t-column text-left body-border-left justify-center column q-px-xs" data-v-20a6cc69></div>',5)),o("div",me,[o("div",pe,[s(D,{label:"\uC870\uD68C",onClick:q}),s(D,{label:"\uCD08\uAE30\uD654",class:"q-ml-xs",onClick:$})])])])]))}},Ge=J(ve,[["__scopeId","data-v-20a6cc69"]]);export{Ge as default};
