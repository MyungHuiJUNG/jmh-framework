import{r as i,t as N,y as q,o as P,c as Q,w as m,F as $,a,$ as E,z as o,B as K,G as O,Q as j}from"./index.02f7c95d.js";import F from"./AInput.398f059b.js";import h from"./ABtn.e24d7e8a.js";import J from"./TabulatorGrid.9c80b09d.js";import T from"./ATitleBar.bbf1d9a4.js";import U from"./ACheckbox.923db872.js";import{u as b}from"./use-dialog-plugin-component.234e0905.js";import{s as A}from"./dialog.88ce899f.js";import{_ as G}from"./_plugin-vue_export-helper.cdc0426e.js";/* empty css                                                             */import"./ClosePopup.daa62b28.js";import"./CommonPopup.2b0ee10b.js";const M={class:"q-pa-xs"},W={class:"my-table a-border full-width"},X={class:"a-border"},Y={class:"row"},Z={class:"row q-gutter-xs justify-end"},ee={class:"row q-pa-xs justify-end"},te={__name:"CodePopup",props:{codeList:Array},emits:[...b.emits],setup(I,{emit:le}){const f=I;let S="\uC0C1\uC704\uCF54\uB4DC \uC120\uD0DD";const r=i(null),{dialogRef:k,onDialogOK:_,onDialogHide:x}=b(),s=i(""),d=i(!1),R=[{title:"#",field:"rownum",formatter:"rownum",headerHozAlign:"left",hozAlign:"left",headerSort:!1,resizable:!1,width:"9%"},{title:"\uCF54\uB4DC\uBA85",field:"name",hozAlign:"center",headerHozAlign:"center",headerSort:!1},{title:"\uCF54\uB4DC",field:"code",hozAlign:"center",headerHozAlign:"center",headerSort:!1}],u=i([]),D=i([]);function V(e){D.value=e}function z(){const e=r.value.getSelectedData();if(Array.isArray(e)&&e.length>0){const t=e[0];if(t.entityId==null||t.entityId<0){A("\uD574\uB2F9 \uCF54\uB4DC\uB294 \uC800\uC7A5\uD6C4 \uC0AC\uC6A9 \uAC00\uB2A5 \uD569\uB2C8\uB2E4.");return}const n={parentEntityId:t.entityId,path:t.path};_({payload:n})}}function L(e){if(e.entityId==null||e.entityId<0){A("\uD574\uB2F9 \uCF54\uB4DC\uB294 \uC800\uC7A5\uD6C4 \uC0AC\uC6A9 \uAC00\uB2A5 \uD569\uB2C8\uB2E4.");return}const t={parentEntityId:e.entityId,path:e.path};_({payload:t})}const p=i([]);function v(){d.value&&B()}function B(){let e=u.value;s.value&&(e=w(e,s.value)),p.value=e,r.value&&r.value.replaceData(p.value)}function w(e,t){return e.reduce((n,g)=>{const l={...g};let c=!1;if((l.name&&l.name.toLowerCase().includes(t.toLowerCase())||l.code&&l.code.toLowerCase().includes(t.toLowerCase()))&&(c=!0),l.children&&l.children.length>0){const C=w(l.children,t);C.length>0?(c=!0,l.children=C):c?l.children=g.children:delete l.children}return c&&n.push(l),n},[])}function H(){d.value=!1,s.value="",r.value.replaceData(f.codeList),p.value=u.value}function y(){x()}return N(s,e=>{e&&(d.value=!0)}),q(()=>{f.codeList&&(u.value=JSON.parse(JSON.stringify(f.codeList)))}),(e,t)=>(P(),Q($,{ref_key:"dialogRef",ref:k,onHide:y,"no-backdrop-dismiss":"","transition-show":"fade","transition-hide":"fade"},{default:m(()=>[a(j,{class:"dialog-large"},{default:m(()=>[a(T,{title:E(S),close:!0,onClose:y},null,8,["title"]),o("div",M,[o("table",W,[o("tbody",null,[o("tr",null,[o("td",X,[o("div",Y,[a(U,{modelValue:d.value,"onUpdate:modelValue":t[0]||(t[0]=n=>d.value=n)},null,8,["modelValue"]),t[2]||(t[2]=o("span",{class:"q-ml-xs"},"\uCF54\uB4DC/\uCF54\uB4DC\uBA85",-1))])]),o("td",null,[a(F,{class:"custom-input",modelValue:s.value,"onUpdate:modelValue":t[1]||(t[1]=n=>s.value=n),onKeyup:K(v,["enter"])},null,8,["modelValue"])]),o("td",null,[o("div",Z,[a(h,{label:"\uC870\uD68C",onClick:v}),a(h,{label:"\uCD08\uAE30\uD654",onClick:H})])])])])]),a(O,null,{default:m(()=>[a(J,{rows:u.value,columns:R,height:"500px",onRowSelected:V,dataTree:!0,dataTreeStartExpanded:!0,selectableRows:1,onRowDblClick:L,ref_key:"childRef",ref:r},null,8,["rows"])]),_:1}),o("div",ee,[a(h,{label:"\uC120\uD0DD",onClick:z})])])]),_:1})]),_:1},512))}},he=G(te,[["__scopeId","data-v-f2d5740d"]]);export{he as default};
