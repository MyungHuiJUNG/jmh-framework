import{api as n}from"./axios.816e1a60.js";import{g as a}from"./header.10137493.js";const o=e=>n.get("/rest/api/v1/settings/menu/menus",{params:e,headers:a("yyyy-MM-dd HH:mm:ss").headers}),c=(e,s)=>n.put(`/rest/api/v1/settings/menu/menus/${s}`,e,{headers:a("yyyy-MM-dd HH:mm:ss").headers}),i=(e,s)=>{const t={removeIconType:e};return n.delete(`/rest/api/v1/settings/menu/menus/${s}/files`,{headers:a("yyyy-MM-dd HH:mm:ss").headers,params:t})},u=async e=>{try{const t=(await n.get(e,{headers:a("yyyy-MM-dd HH:mm:ss").headers,responseType:"blob"})).data;if(await y(t)){const r=new Blob([t],{type:"image/svg+xml"});return URL.createObjectURL(r)}else return URL.createObjectURL(t)}catch{return null}},y=async e=>{if(e.type==="image/svg+xml")return!0;try{const s=await e.text();if(!/<svg[\s\S]*?>/i.test(s))return!1;const r=new DOMParser().parseFromString(s,"image/svg+xml");if(r.querySelector("parsererror"))return!1;const m=r.documentElement;return m.tagName==="svg"&&m.hasAttribute("xmlns")}catch{return!1}},g={getMenus:o,putMenu:c,deleteMenuImage:i,getImageWithToken:u};export{g as m};
